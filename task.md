# Техническое задание: приложение для домашних тренировок

## Функциональные требования

1. Пользователь может создавать, редактировать и удалять комплексы упражнений.
2. Пользователь может создавать, редактировать и удалять упражнения внутри комплекса.
3. Для каждого упражнения настраивается число подходов (round\_count), повторений (repeat\_count), отдых между подходами (rest\_seconds), изображения (images), ссылка на видео (video\_url), описание.
4. Можно устанавливать значения по умолчанию для повторений, подходов и отдыха между подходами через настройки приложения.
5. Приложение поддерживает сохранение изображений упражнений и хранит пути к ним.
6. Присутствует таймер отдыха между подходами с возможностью выбора звукового сигнала или браузерного уведомления.
7. На экране тренировки отображается прогресс по текущему упражнению и всему комплексу, время до конца отдыха, текущие изображения и описание.
8. После завершения подхода пользователь нажимает кнопку — запускается таймер отдыха.
9. После выполнения всех подходов — переход к следующему упражнению, после последнего упражнения — запись тренировки в журнал.
10. В приложении есть журнал тренировок: список прошедших тренировок с датой, названием комплекса, длительностью.
11. Все действия удаления и редактирования требуют подтверждения пользователя.
12. Интерфейс адаптивен (работает на ПК и мобильных устройствах), минималистичен, полностью на русском языке.
13. Все поля, связанные с временем, хранятся в секундах или datetime.

## Требования к экранам (разделам)

### Главная страница

* Список всех комплексов (WorkoutSet)
* Возможность создать новый комплекс
* Кнопки для редактирования и удаления комплекса
* Выбор комплекса для тренировки

### Экран комплекса

* Список всех упражнений (Exercise) выбранного комплекса
* Кнопка добавить новое упражнение
* Кнопки для редактирования и удаления упражнения
* Для каждого упражнения отображаются основные параметры: название, изображения, число повторений, число подходов, отдых между подходами

### Экран тренировки

* Показ текущего упражнения с описанием и изображениями
* Индикатор выполнения подходов (визуальный прогресс)
* Кнопка завершить подход (запускает таймер отдыха)
* Крупный обратный отсчет таймера отдыха
* После отдыха — переход к следующему подходу или упражнению
* Звуковой сигнал или уведомление по завершении таймера
* После выполнения всего комплекса — запись в журнал

### Экран настроек

* Настройка значений по умолчанию для новых упражнений: повторения, подходы, отдых
* Выбор звука для таймера
* Включение/выключение браузерных уведомлений

### Экран статистики

* Таблица с прошлыми тренировками (дата, день недели, название комплекса, длительность)

## Сущности и поля

### WorkoutSet

* code (целое/uuid): уникальный код комплекса
* name (строка): название комплекса упражнений
* description (строка, опционально): описание комплекса
* created\_at (дата-время): дата создания комплекса
* updated\_at (дата-время): дата последнего изменения

### Exercise

* code (целое/uuid): уникальный код упражнения
* name (строка): название упражнения
* description (строка, опционально): описание упражнения
* images (список строк): пути к изображениям упражнения (относительные)
* video\_url (строка, опционально): ссылка на видео упражнения
* repeat\_count (целое): количество повторений в одном подходе
* round\_count (целое): количество кругов/подходов для этого упражнения
* rest\_seconds (целое): время отдыха между подходами, в секундах
* workoutset\_code (целое/uuid): ссылка на WorkoutSet, к которому относится упражнение
* created\_at (дата-время): дата создания упражнения
* updated\_at (дата-время): дата последнего изменения упражнения

### UserPrefs

* code (целое/uuid): уникальный код настроек пользователя
* default\_repeat\_count (целое): количество повторений по умолчанию для новых упражнений
* default\_round\_count (целое): количество подходов по умолчанию для новых упражнений
* default\_rest\_seconds (целое): отдых по умолчанию для новых упражнений (секунды)
* timer\_sound (строка): путь к звуковому файлу или название звука
* notifications\_enabled (логический): включены ли браузерные уведомления

### WorkoutLog

* code (целое/uuid): уникальный код записи в журнале
* date (дата-время): дата тренировки
* workoutset\_code (целое/uuid): ссылка на WorkoutSet, по которому была выполнена тренировка
* duration\_seconds (целое): продолжительность тренировки в секундах

## Прочее

* Изображения упражнений хранятся в статической папке, в базе — только относительный путь
* Таймер и звук реализованы на JavaScript
* Backend: Python (Flask)
* Frontend: Flask + Jinja2, Bootstrap 5 (адаптивная верстка)
* База данных: SQLite (или встроенный аналог)
* Значения по умолчанию в настройках не ограничивают возможность индивидуальной настройки для каждого упражнения

---

# TODO
1. Менять упражнения местами
2. ~~Сохранять статус выполняемого упражнения если только нажата кнопка Отдых в первый раз или сделать спец кнопку начать упражнение (или добавить разминку)~~
3. ~~Писать слово Повторений вместо Раз~~
4. ~~У таймера в скобках указывать общее время~~
5. ~~Сделать миниатюры покрупнее в карточке упражнения при выполнении тренировки~~
6. Если начать тренировку, но другое выполняется, то не давать это сделать, вывести сообщение об этом
